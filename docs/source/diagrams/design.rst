Current stack
=============

 /-------+                +-----------------------+
 | User1 |<------------\  |    Waartaa Server     |
 +-------/             |  |                       |
     |                 |  |                       |
     \------------------->|                       |
                       |  |                       |
                       |  |                       |
     /------------------->|                       |
     |                 |  |                       |
 /-------+             |  |           +---------+ |        /--------------+
 | User2 |<---------\  |  |           | NodeIRC |--------->| IRC Server 1 |
 +-------/          |  |  +-------+   | client 1| |        +--------------/
                    |  \--|       |   +---------+ |            ^
     .              \-----|  PUB  |   | NodeIRC | |            |  .
     .          /---------|       |   | client 2|--------------/  .
     .          |     /-->|       |   +---------+ |               .
                |     |   +-------+       ...     |
 /-------+      |     |   |           +---------+ |        /--------------+
 | UserN |<-----/     |   |           | NodeIRC |--------->| IRC Server N |
 +-------/         /----->|           | client M| |        +--------------/
      |            |  |   |           +---------+ |
      \------------/  |   +-----------------------+
                      |          |  |  |     |
                      |          |  |  | ... |
                      |          |  |  |     |
                      |          v  v  v     v
                      |     +-------------------+
                      |     |    MongoDB {s}    |
                      |     |                   |
                      |     | +-------+         |
                      |     | | OPLOG |         |
                      \-------|       |         |
                            | +-------+         |
                            +-------------------+
